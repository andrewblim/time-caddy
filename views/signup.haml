%html
  %head
    %title time-caddy signup
    = haml :_bootstrap_header
    %link{rel: 'stylesheet', href: '/stylesheets/basic.css'}
  %body
    = haml :_navbar, locals: { user: logged_in_user, hide_login: true }
    .container-fluid
      - if flash[:signup]
        %p= flash[:signup]
      .col-md-4.col-md-offset-4
        - if logged_in_user
          %p= "You are already logged in as #{logged_in_user.username}, though you may still create a new account below if you want."
        %p
          Sign up for a new account below. If you already have an account,
          %a{href: '/login'} log in
          instead.
        %form{action: '/signup', method: 'post'}
          .form-group
            %label{for: 'username'} Username:
            %input#username.form-control{type: 'text', name: 'username'}
            %small This is how you will appear in the app and is the name by which others can refer to you in their posts. 1-40 characters, alphanumeric, underscores, or hyphens only.
          .form-group
            %label{for: 'email'} Email:
            %input#email.form-control{type: 'email', name: 'email'}
            %small We will never give this out to anyone else. We only use it to contact you.
          .form-group
            %label{for: 'password'} Password:
            %input#password.form-control{type: 'password', name: 'password'}
          .form-group
            %label{for: 'default_tz'} Default time zone:
            %select#default_tz.form-control
              - TZInfo::Timezone.all.each do |tz|
                %option{value: tz.name}= tz.friendly_identifier
          .form-group
            %input#submit.btn.btn-default{type: 'submit', value: 'Signup'}
